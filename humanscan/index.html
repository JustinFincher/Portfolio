<!DOCTYPE html><html lang="en"><head><style class="vjs-styles-defaults">.video-js{width:300px;height:150px}.vjs-fluid{padding-top:56.25%}</style><style class="vjs-styles-dimensions">.vjs_video_3-dimensions{width:300px;height:168.75px}.vjs_video_3-dimensions.vjs-fluid{padding-top:56.25%}</style><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="icon" href="/favicon.ico"><link rel="mask-icon" href="/favicon.svg"><meta name="theme-color" content="#FFF"><meta name="google" content="notranslate"><link href="/css/about~748942c6.292d3172.css" rel="prefetch"><link href="/js/about~6d61af90.aa294919.js" rel="prefetch"><link href="/js/about~748942c6.80a82e23.js" rel="prefetch"><link href="/css/app~d0ae3f07.1bcc24e0.css" rel="preload" as="style"><link href="/css/chunk-vendors~253ae210.972ce8c9.css" rel="preload" as="style"><link href="/js/app~d0ae3f07.908ee241.js" rel="preload" as="script"><link href="/js/chunk-vendors~253ae210.1b7faa44.js" rel="preload" as="script"><link href="/js/chunk-vendors~2ebc07f6.2a812cea.js" rel="preload" as="script"><link href="/css/chunk-vendors~253ae210.972ce8c9.css" rel="stylesheet"><link href="/css/app~d0ae3f07.1bcc24e0.css" rel="stylesheet"><link href="https://www.googletagmanager.com" rel="preconnect"><script type="text/javascript" id="www-widgetapi-script" src="https://www.youtube.com/s/player/cdb8d439/www-widgetapi.vflset/www-widgetapi.js" async=""></script><script src="https://www.youtube.com/iframe_api"></script><script type="text/javascript" async="" src="https://www.google-analytics.com/analytics.js"></script><script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-28787397-7&amp;l=dataLayer"></script><link rel="stylesheet" type="text/css" href="/css/about~748942c6.292d3172.css"><script charset="utf-8" src="/js/about~748942c6.80a82e23.js"></script><script charset="utf-8" src="/js/about~6d61af90.aa294919.js"></script><style type="text/css">.vjs-youtube .vjs-iframe-blocker{display:none}.vjs-youtube.vjs-user-inactive .vjs-iframe-blocker{display:block}.vjs-youtube .vjs-poster{background-size:cover}.vjs-youtube-mobile .vjs-big-play-button{display:none}</style><script id="json-ld" type="application/ld+json">[{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"JustZht's Portfolio","item":"https://portfolio.justzht.com/"},{"@type":"ListItem","position":2,"name":"HumanScan"}]},{"@context":"http://schema.org/","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://portfolio.justzht.com/humanscan"},"headline":"HumanScan - ARKit-based human scanning (point cloud), rigging, and skinning - JustZht's Portfolio","description":"ARKit-based human scanning (point cloud), rigging, and skinning - Portfolio from 郑昊天 Haotian Zheng (aka Justin Fincher / JustZht)","image":["https://portfolio.justzht.com/works/humanscan/tile.jpg?v=1643923089627"],"datePublished":"2021-04-01T20:00:00.000+04:00","dateModified":"2021-05-08T20:00:00.000+04:00","author":{"@type":"Person","name":"Haotian Zheng"},"publisher":{"@type":"Organization","name":"FinGameWorks","founder":{"@type":"Person","name":"Haotian Zheng"},"logo":{"@type":"ImageObject","url":"https://portfolio.justzht.com/favicon.svg"}}}]</script><title>HumanScan - ARKit-based human scanning (point cloud), rigging, and skinning - JustZht's Portfolio |</title><meta name="description" content="ARKit-based human scanning (point cloud), rigging, and skinning - Portfolio from 郑昊天 Haotian Zheng (aka Justin Fincher / JustZht)" id="description"><meta name="twitter:title" content="HumanScan - ARKit-based human scanning (point cloud), rigging, and skinning - JustZht's Portfolio" id="twitter:title"><meta name="twitter:creator" content="@JustZht" id="twitter:creator"><meta name="twitter:site" content="@JustZht" id="twitter:site"><meta name="twitter:description" id="twitter:description" content="ARKit-based human scanning (point cloud), rigging, and skinning - Portfolio from 郑昊天 Haotian Zheng (aka Justin Fincher / JustZht)"><meta name="twitter:card" content="summary_large_image" id="twitter:card"><meta name="twitter:image" content="https://portfolio.justzht.com/works/humanscan/tile.jpg?v=1643923089627" id="twitter:image"><meta name="twitter:image:src" content="https://portfolio.justzht.com/works/humanscan/tile.jpg?v=1643923089627" id="twitter:image:src"><meta property="og:type" content="article" id="og:type"><meta property="og:site_name" content="ARKit-based human scanning (point cloud), rigging, and skinning - Portfolio from 郑昊天 Haotian Zheng (aka Justin Fincher / JustZht)" id="og:site_name"><meta property="og:title" content="HumanScan - ARKit-based human scanning (point cloud), rigging, and skinning - JustZht's Portfolio" id="og:title"><meta property="og:description" content="ARKit-based human scanning (point cloud), rigging, and skinning - Portfolio from 郑昊天 Haotian Zheng (aka Justin Fincher / JustZht)" id="og:description"><meta property="og:image" content="https://portfolio.justzht.com/works/humanscan/tile.jpg?v=1643923089627" id="og:image"></head><body><noscript><strong>We're sorry but portfolio doesn't work properly without JavaScript enabled. Please enable it to continue.</strong></noscript><div id="app"><div data-v-82f21d64=""><div data-v-2ce5a292="" data-v-82f21d64=""><!----><div data-v-2ce5a292="" class="fin-navigation-bar box"><div data-v-2ce5a292="" class="fin-navigation-bar-header"><p data-v-2ce5a292="" class="fin-navigation-bar-title" style="cursor:pointer">BACKTOHOME</p><div data-v-2ce5a292="" style="flex-grow:1"></div><!----><div data-v-2ce5a292="" style="flex-grow:.02"></div><div data-v-2ce5a292=""><a data-v-2ce5a292="" class="button is-text"><svg data-v-11a2f51e="" data-v-2ce5a292="" width="24" height="24" viewBox="0 0 24 24" style="--sx:1;--sy:1;--r:0deg"><path data-v-11a2f51e="" d="M3,6H21V8H3V6M3,11H21V13H3V11M3,16H21V18H3V16Z"></path></svg></a></div></div><!----></div></div><div data-v-522dfd62="" data-v-82f21d64="" class="fin-navigation-content"><section data-v-82f21d64="" data-v-522dfd62="" class="hero is-medium is-bold"><div data-v-82f21d64="" data-v-522dfd62="" class="hero-body"><div data-v-82f21d64="" data-v-522dfd62="" class="container"><h1 data-v-82f21d64="" data-v-522dfd62="" class="title">HumanScan</h1><h2 data-v-82f21d64="" data-v-522dfd62="" class="subtitle">ARKit-based human scanning (point cloud), rigging, and skinning</h2><h2 data-v-82f21d64="" data-v-522dfd62="" class="subtitle"><span data-v-82f21d64="" data-v-522dfd62=""><!----><a data-v-82f21d64="" data-v-522dfd62="" target="_blank" href="https://github.com/JustinFincher/WWDC2021ScholarshipProject">GitHub</a></span><span data-v-82f21d64="" data-v-522dfd62=""><span data-v-82f21d64="" data-v-522dfd62=""> | </span><a data-v-82f21d64="" data-v-522dfd62="" target="_blank" href="https://github.com/JustinFincher/WWDC2021ScholarshipProject/blob/master/Submission/README.md">Submission</a></span></h2></div></div></section><section data-v-82f21d64="" data-v-522dfd62=""><div data-v-82f21d64="" data-v-522dfd62="" class="container fin-work-content"><div data-v-82f21d64="" data-v-522dfd62="" class="content"><h1 id="about">About</h1><blockquote><p>HumanScan is an experimental project for Apple's WWDC 2021 Scholarship (Swift Student Challenge). It requires devices with Lidar (iPad Pro 2020 and onward) to run.<br>With it, I tried to generate static human model from real world scan, rig it in runtime, and apply skeleton animations so the scanned human can make arbitrary poses.</p></blockquote><h1 id="video">Video</h1><p></p><div id="vjs_video_3" data="{ &quot;fluid&quot;: true, &quot;techOrder&quot;: [&quot;youtube&quot;], &quot;sources&quot;: [{ &quot;type&quot;: &quot;video/youtube&quot;, &quot;src&quot;: &quot;https://youtu.be/AT6XDYx_aRg&quot;}] }" class="video-js vjs-default-skin vjs-big-play-centered vjs-paused vjs-fluid vjs_video_3-dimensions vjs-controls-enabled vjs-touch-enabled vjs-workinghover vjs-v7 vjs-user-active vjs-youtube" tabindex="-1" role="region" lang="en" translate="no" aria-label="Video Player"><div><iframe id="vjs_video_3_youtube_api" style="width:100%;height:100%;top:0;left:0;position:absolute" class="vjs-tech" frameborder="0" allowfullscreen="1" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" title="YouTube video player" width="640" height="360" src="https://www.youtube.com/embed/AT6XDYx_aRg?controls=0&amp;modestbranding=1&amp;rel=0&amp;showinfo=0&amp;loop=0&amp;fs=0&amp;hl=en&amp;enablejsapi=1&amp;origin=http%3A%2F%2Flocalhost%3A8000&amp;widgetid=1"></iframe><div class="vjs-iframe-blocker" style="position:absolute;top:0;left:0;width:100%;height:100%"></div></div><div class="vjs-poster" tabindex="-1" aria-disabled="false" style="background-image:url(&quot;https://img.youtube.com/vi/AT6XDYx_aRg/maxresdefault.jpg&quot;)"></div><div class="vjs-text-track-display" translate="yes" aria-live="off" aria-atomic="true"></div><div class="vjs-loading-spinner" dir="ltr"><span class="vjs-control-text">Video Player is loading.</span></div><button class="vjs-big-play-button" type="button" title="Play Video" aria-disabled="false"><span class="vjs-icon-placeholder" aria-hidden="true"></span><span class="vjs-control-text" aria-live="polite">Play Video</span></button><div class="vjs-control-bar" dir="ltr"><button class="vjs-play-control vjs-control vjs-button" type="button" title="Play" aria-disabled="false"><span class="vjs-icon-placeholder" aria-hidden="true"></span><span class="vjs-control-text" aria-live="polite">Play</span></button><div class="vjs-volume-panel vjs-control vjs-volume-panel-horizontal"><button class="vjs-mute-control vjs-control vjs-button" type="button" title="Mute" aria-disabled="false"><span class="vjs-icon-placeholder" aria-hidden="true"></span><span class="vjs-control-text" aria-live="polite">Mute</span></button><div class="vjs-volume-control vjs-control vjs-volume-horizontal"><div tabindex="0" class="vjs-volume-bar vjs-slider-bar vjs-slider vjs-slider-horizontal" role="slider" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" aria-label="Volume Level" aria-live="polite" aria-valuetext="100%"><div class="vjs-mouse-display"><div class="vjs-volume-tooltip" aria-hidden="true"></div></div><div class="vjs-volume-level"><span class="vjs-control-text"></span></div></div></div></div><div class="vjs-current-time vjs-time-control vjs-control"><span class="vjs-control-text" role="presentation">Current Time&nbsp;</span><span class="vjs-current-time-display" aria-live="off" role="presentation">0:00</span></div><div class="vjs-time-control vjs-time-divider" aria-hidden="true"><div><span>/</span></div></div><div class="vjs-duration vjs-time-control vjs-control"><span class="vjs-control-text" role="presentation">Duration&nbsp;</span><span class="vjs-duration-display" aria-live="off" role="presentation">0:00</span></div><div class="vjs-progress-control vjs-control"><div tabindex="0" class="vjs-progress-holder vjs-slider vjs-slider-horizontal" role="slider" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" aria-label="Progress Bar"><div class="vjs-load-progress"><span class="vjs-control-text"><span>Loaded</span>: <span class="vjs-control-text-loaded-percentage">0%</span></span></div><div class="vjs-mouse-display"><div class="vjs-time-tooltip" aria-hidden="true"></div></div><div class="vjs-play-progress vjs-slider-bar" aria-hidden="true"><div class="vjs-time-tooltip" aria-hidden="true"></div></div></div></div><div class="vjs-live-control vjs-control vjs-hidden"><div class="vjs-live-display" aria-live="off"><span class="vjs-control-text">Stream Type&nbsp;</span>LIVE</div></div><button class="vjs-seek-to-live-control vjs-control" type="button" title="Seek to live, currently behind live" aria-disabled="false"><span class="vjs-icon-placeholder" aria-hidden="true"></span><span class="vjs-control-text" aria-live="polite">Seek to live, currently behind live</span><span class="vjs-seek-to-live-text" aria-hidden="true">LIVE</span></button><div class="vjs-remaining-time vjs-time-control vjs-control"><span class="vjs-control-text" role="presentation">Remaining Time&nbsp;</span><span aria-hidden="true">-</span><span class="vjs-remaining-time-display" aria-live="off" role="presentation">0:00</span></div><div class="vjs-custom-control-spacer vjs-spacer">&nbsp;</div><div class="vjs-playback-rate vjs-menu-button vjs-menu-button-popup vjs-control vjs-button vjs-hidden"><div class="vjs-playback-rate-value" id="vjs-playback-rate-value-label-vjs_video_3_component_256">1x</div><button class="vjs-playback-rate vjs-menu-button vjs-menu-button-popup vjs-button" type="button" aria-disabled="false" title="Playback Rate" aria-haspopup="true" aria-expanded="false" aria-describedby="vjs-playback-rate-value-label-vjs_video_3_component_256"><span class="vjs-icon-placeholder" aria-hidden="true"></span><span class="vjs-control-text" aria-live="polite">Playback Rate</span></button><div class="vjs-menu"><ul class="vjs-menu-content" role="menu"></ul></div></div><div class="vjs-chapters-button vjs-menu-button vjs-menu-button-popup vjs-control vjs-button vjs-hidden"><button class="vjs-chapters-button vjs-menu-button vjs-menu-button-popup vjs-button" type="button" aria-disabled="false" title="Chapters" aria-haspopup="true" aria-expanded="false"><span class="vjs-icon-placeholder" aria-hidden="true"></span><span class="vjs-control-text" aria-live="polite">Chapters</span></button><div class="vjs-menu"><ul class="vjs-menu-content" role="menu"><li class="vjs-menu-title" tabindex="-1">Chapters</li></ul></div></div><div class="vjs-descriptions-button vjs-menu-button vjs-menu-button-popup vjs-control vjs-button vjs-hidden"><button class="vjs-descriptions-button vjs-menu-button vjs-menu-button-popup vjs-button" type="button" aria-disabled="false" title="Descriptions" aria-haspopup="true" aria-expanded="false"><span class="vjs-icon-placeholder" aria-hidden="true"></span><span class="vjs-control-text" aria-live="polite">Descriptions</span></button><div class="vjs-menu"><ul class="vjs-menu-content" role="menu"><li class="vjs-menu-item vjs-selected" tabindex="-1" role="menuitemradio" aria-disabled="false" aria-checked="true"><span class="vjs-menu-item-text">descriptions off</span><span class="vjs-control-text" aria-live="polite">, selected</span></li></ul></div></div><div class="vjs-subs-caps-button vjs-menu-button vjs-menu-button-popup vjs-control vjs-button vjs-hidden"><button class="vjs-subs-caps-button vjs-menu-button vjs-menu-button-popup vjs-button" type="button" aria-disabled="false" title="Captions" aria-haspopup="true" aria-expanded="false"><span class="vjs-icon-placeholder" aria-hidden="true"></span><span class="vjs-control-text" aria-live="polite">Captions</span></button><div class="vjs-menu"><ul class="vjs-menu-content" role="menu"><li class="vjs-menu-item vjs-texttrack-settings" tabindex="-1" role="menuitem" aria-disabled="false"><span class="vjs-menu-item-text">captions settings</span><span class="vjs-control-text" aria-live="polite">, opens captions settings dialog</span></li><li class="vjs-menu-item vjs-selected" tabindex="-1" role="menuitemradio" aria-disabled="false" aria-checked="true"><span class="vjs-menu-item-text">captions off</span><span class="vjs-control-text" aria-live="polite">, selected</span></li></ul></div></div><div class="vjs-audio-button vjs-menu-button vjs-menu-button-popup vjs-control vjs-button vjs-hidden"><button class="vjs-audio-button vjs-menu-button vjs-menu-button-popup vjs-button" type="button" aria-disabled="false" title="Audio Track" aria-haspopup="true" aria-expanded="false"><span class="vjs-icon-placeholder" aria-hidden="true"></span><span class="vjs-control-text" aria-live="polite">Audio Track</span></button><div class="vjs-menu"><ul class="vjs-menu-content" role="menu"></ul></div></div><button class="vjs-picture-in-picture-control vjs-control vjs-button vjs-disabled" type="button" title="Picture-in-Picture" aria-disabled="true" disabled="disabled"><span class="vjs-icon-placeholder" aria-hidden="true"></span><span class="vjs-control-text" aria-live="polite">Picture-in-Picture</span></button><button class="vjs-fullscreen-control vjs-control vjs-button" type="button" title="Fullscreen" aria-disabled="false"><span class="vjs-icon-placeholder" aria-hidden="true"></span><span class="vjs-control-text" aria-live="polite">Fullscreen</span></button></div><div class="vjs-error-display vjs-modal-dialog vjs-hidden" tabindex="-1" aria-describedby="vjs_video_3_component_473_description" aria-hidden="true" aria-label="Modal Window" role="dialog"><p class="vjs-modal-dialog-description vjs-control-text" id="vjs_video_3_component_473_description">This is a modal window.</p><div class="vjs-modal-dialog-content" role="document"></div></div><div class="vjs-modal-dialog vjs-hidden vjs-text-track-settings" tabindex="-1" aria-describedby="vjs_video_3_component_479_description" aria-hidden="true" aria-label="Caption Settings Dialog" role="dialog"><p class="vjs-modal-dialog-description vjs-control-text" id="vjs_video_3_component_479_description">Beginning of dialog window. Escape will cancel and close the window.</p><div class="vjs-modal-dialog-content" role="document"><div class="vjs-track-settings-colors"><fieldset class="vjs-fg-color vjs-track-setting"><legend id="captions-text-legend-vjs_video_3_component_479">Text</legend><label id="captions-foreground-color-vjs_video_3_component_479" class="vjs-label">Color</label><select aria-labelledby="captions-text-legend-vjs_video_3_component_479 captions-foreground-color-vjs_video_3_component_479"><option id="captions-foreground-color-vjs_video_3_component_479-White" value="#FFF" aria-labelledby="captions-text-legend-vjs_video_3_component_479 captions-foreground-color-vjs_video_3_component_479 captions-foreground-color-vjs_video_3_component_479-White">White</option><option id="captions-foreground-color-vjs_video_3_component_479-Black" value="#000" aria-labelledby="captions-text-legend-vjs_video_3_component_479 captions-foreground-color-vjs_video_3_component_479 captions-foreground-color-vjs_video_3_component_479-Black">Black</option><option id="captions-foreground-color-vjs_video_3_component_479-Red" value="#F00" aria-labelledby="captions-text-legend-vjs_video_3_component_479 captions-foreground-color-vjs_video_3_component_479 captions-foreground-color-vjs_video_3_component_479-Red">Red</option><option id="captions-foreground-color-vjs_video_3_component_479-Green" value="#0F0" aria-labelledby="captions-text-legend-vjs_video_3_component_479 captions-foreground-color-vjs_video_3_component_479 captions-foreground-color-vjs_video_3_component_479-Green">Green</option><option id="captions-foreground-color-vjs_video_3_component_479-Blue" value="#00F" aria-labelledby="captions-text-legend-vjs_video_3_component_479 captions-foreground-color-vjs_video_3_component_479 captions-foreground-color-vjs_video_3_component_479-Blue">Blue</option><option id="captions-foreground-color-vjs_video_3_component_479-Yellow" value="#FF0" aria-labelledby="captions-text-legend-vjs_video_3_component_479 captions-foreground-color-vjs_video_3_component_479 captions-foreground-color-vjs_video_3_component_479-Yellow">Yellow</option><option id="captions-foreground-color-vjs_video_3_component_479-Magenta" value="#F0F" aria-labelledby="captions-text-legend-vjs_video_3_component_479 captions-foreground-color-vjs_video_3_component_479 captions-foreground-color-vjs_video_3_component_479-Magenta">Magenta</option><option id="captions-foreground-color-vjs_video_3_component_479-Cyan" value="#0FF" aria-labelledby="captions-text-legend-vjs_video_3_component_479 captions-foreground-color-vjs_video_3_component_479 captions-foreground-color-vjs_video_3_component_479-Cyan">Cyan</option></select><span class="vjs-text-opacity vjs-opacity"><label id="captions-foreground-opacity-vjs_video_3_component_479" class="vjs-label">Transparency</label><select aria-labelledby="captions-text-legend-vjs_video_3_component_479 captions-foreground-opacity-vjs_video_3_component_479"><option id="captions-foreground-opacity-vjs_video_3_component_479-Opaque" value="1" aria-labelledby="captions-text-legend-vjs_video_3_component_479 captions-foreground-opacity-vjs_video_3_component_479 captions-foreground-opacity-vjs_video_3_component_479-Opaque">Opaque</option><option id="captions-foreground-opacity-vjs_video_3_component_479-SemiTransparent" value="0.5" aria-labelledby="captions-text-legend-vjs_video_3_component_479 captions-foreground-opacity-vjs_video_3_component_479 captions-foreground-opacity-vjs_video_3_component_479-SemiTransparent">Semi-Transparent</option></select></span></fieldset><fieldset class="vjs-bg-color vjs-track-setting"><legend id="captions-background-vjs_video_3_component_479">Background</legend><label id="captions-background-color-vjs_video_3_component_479" class="vjs-label">Color</label><select aria-labelledby="captions-background-vjs_video_3_component_479 captions-background-color-vjs_video_3_component_479"><option id="captions-background-color-vjs_video_3_component_479-Black" value="#000" aria-labelledby="captions-background-vjs_video_3_component_479 captions-background-color-vjs_video_3_component_479 captions-background-color-vjs_video_3_component_479-Black">Black</option><option id="captions-background-color-vjs_video_3_component_479-White" value="#FFF" aria-labelledby="captions-background-vjs_video_3_component_479 captions-background-color-vjs_video_3_component_479 captions-background-color-vjs_video_3_component_479-White">White</option><option id="captions-background-color-vjs_video_3_component_479-Red" value="#F00" aria-labelledby="captions-background-vjs_video_3_component_479 captions-background-color-vjs_video_3_component_479 captions-background-color-vjs_video_3_component_479-Red">Red</option><option id="captions-background-color-vjs_video_3_component_479-Green" value="#0F0" aria-labelledby="captions-background-vjs_video_3_component_479 captions-background-color-vjs_video_3_component_479 captions-background-color-vjs_video_3_component_479-Green">Green</option><option id="captions-background-color-vjs_video_3_component_479-Blue" value="#00F" aria-labelledby="captions-background-vjs_video_3_component_479 captions-background-color-vjs_video_3_component_479 captions-background-color-vjs_video_3_component_479-Blue">Blue</option><option id="captions-background-color-vjs_video_3_component_479-Yellow" value="#FF0" aria-labelledby="captions-background-vjs_video_3_component_479 captions-background-color-vjs_video_3_component_479 captions-background-color-vjs_video_3_component_479-Yellow">Yellow</option><option id="captions-background-color-vjs_video_3_component_479-Magenta" value="#F0F" aria-labelledby="captions-background-vjs_video_3_component_479 captions-background-color-vjs_video_3_component_479 captions-background-color-vjs_video_3_component_479-Magenta">Magenta</option><option id="captions-background-color-vjs_video_3_component_479-Cyan" value="#0FF" aria-labelledby="captions-background-vjs_video_3_component_479 captions-background-color-vjs_video_3_component_479 captions-background-color-vjs_video_3_component_479-Cyan">Cyan</option></select><span class="vjs-bg-opacity vjs-opacity"><label id="captions-background-opacity-vjs_video_3_component_479" class="vjs-label">Transparency</label><select aria-labelledby="captions-background-vjs_video_3_component_479 captions-background-opacity-vjs_video_3_component_479"><option id="captions-background-opacity-vjs_video_3_component_479-Opaque" value="1" aria-labelledby="captions-background-vjs_video_3_component_479 captions-background-opacity-vjs_video_3_component_479 captions-background-opacity-vjs_video_3_component_479-Opaque">Opaque</option><option id="captions-background-opacity-vjs_video_3_component_479-SemiTransparent" value="0.5" aria-labelledby="captions-background-vjs_video_3_component_479 captions-background-opacity-vjs_video_3_component_479 captions-background-opacity-vjs_video_3_component_479-SemiTransparent">Semi-Transparent</option><option id="captions-background-opacity-vjs_video_3_component_479-Transparent" value="0" aria-labelledby="captions-background-vjs_video_3_component_479 captions-background-opacity-vjs_video_3_component_479 captions-background-opacity-vjs_video_3_component_479-Transparent">Transparent</option></select></span></fieldset><fieldset class="vjs-window-color vjs-track-setting"><legend id="captions-window-vjs_video_3_component_479">Window</legend><label id="captions-window-color-vjs_video_3_component_479" class="vjs-label">Color</label><select aria-labelledby="captions-window-vjs_video_3_component_479 captions-window-color-vjs_video_3_component_479"><option id="captions-window-color-vjs_video_3_component_479-Black" value="#000" aria-labelledby="captions-window-vjs_video_3_component_479 captions-window-color-vjs_video_3_component_479 captions-window-color-vjs_video_3_component_479-Black">Black</option><option id="captions-window-color-vjs_video_3_component_479-White" value="#FFF" aria-labelledby="captions-window-vjs_video_3_component_479 captions-window-color-vjs_video_3_component_479 captions-window-color-vjs_video_3_component_479-White">White</option><option id="captions-window-color-vjs_video_3_component_479-Red" value="#F00" aria-labelledby="captions-window-vjs_video_3_component_479 captions-window-color-vjs_video_3_component_479 captions-window-color-vjs_video_3_component_479-Red">Red</option><option id="captions-window-color-vjs_video_3_component_479-Green" value="#0F0" aria-labelledby="captions-window-vjs_video_3_component_479 captions-window-color-vjs_video_3_component_479 captions-window-color-vjs_video_3_component_479-Green">Green</option><option id="captions-window-color-vjs_video_3_component_479-Blue" value="#00F" aria-labelledby="captions-window-vjs_video_3_component_479 captions-window-color-vjs_video_3_component_479 captions-window-color-vjs_video_3_component_479-Blue">Blue</option><option id="captions-window-color-vjs_video_3_component_479-Yellow" value="#FF0" aria-labelledby="captions-window-vjs_video_3_component_479 captions-window-color-vjs_video_3_component_479 captions-window-color-vjs_video_3_component_479-Yellow">Yellow</option><option id="captions-window-color-vjs_video_3_component_479-Magenta" value="#F0F" aria-labelledby="captions-window-vjs_video_3_component_479 captions-window-color-vjs_video_3_component_479 captions-window-color-vjs_video_3_component_479-Magenta">Magenta</option><option id="captions-window-color-vjs_video_3_component_479-Cyan" value="#0FF" aria-labelledby="captions-window-vjs_video_3_component_479 captions-window-color-vjs_video_3_component_479 captions-window-color-vjs_video_3_component_479-Cyan">Cyan</option></select><span class="vjs-window-opacity vjs-opacity"><label id="captions-window-opacity-vjs_video_3_component_479" class="vjs-label">Transparency</label><select aria-labelledby="captions-window-vjs_video_3_component_479 captions-window-opacity-vjs_video_3_component_479"><option id="captions-window-opacity-vjs_video_3_component_479-Transparent" value="0" aria-labelledby="captions-window-vjs_video_3_component_479 captions-window-opacity-vjs_video_3_component_479 captions-window-opacity-vjs_video_3_component_479-Transparent">Transparent</option><option id="captions-window-opacity-vjs_video_3_component_479-SemiTransparent" value="0.5" aria-labelledby="captions-window-vjs_video_3_component_479 captions-window-opacity-vjs_video_3_component_479 captions-window-opacity-vjs_video_3_component_479-SemiTransparent">Semi-Transparent</option><option id="captions-window-opacity-vjs_video_3_component_479-Opaque" value="1" aria-labelledby="captions-window-vjs_video_3_component_479 captions-window-opacity-vjs_video_3_component_479 captions-window-opacity-vjs_video_3_component_479-Opaque">Opaque</option></select></span></fieldset></div><div class="vjs-track-settings-font"><fieldset class="vjs-font-percent vjs-track-setting"><legend id="captions-font-size-vjs_video_3_component_479" class="">Font Size</legend><select aria-labelledby="captions-font-size-vjs_video_3_component_479"><option id="captions-font-size-vjs_video_3_component_479-50" value="0.50" aria-labelledby="captions-font-size-vjs_video_3_component_479 captions-font-size-vjs_video_3_component_479-50">50%</option><option id="captions-font-size-vjs_video_3_component_479-75" value="0.75" aria-labelledby="captions-font-size-vjs_video_3_component_479 captions-font-size-vjs_video_3_component_479-75">75%</option><option id="captions-font-size-vjs_video_3_component_479-100" value="1.00" aria-labelledby="captions-font-size-vjs_video_3_component_479 captions-font-size-vjs_video_3_component_479-100">100%</option><option id="captions-font-size-vjs_video_3_component_479-125" value="1.25" aria-labelledby="captions-font-size-vjs_video_3_component_479 captions-font-size-vjs_video_3_component_479-125">125%</option><option id="captions-font-size-vjs_video_3_component_479-150" value="1.50" aria-labelledby="captions-font-size-vjs_video_3_component_479 captions-font-size-vjs_video_3_component_479-150">150%</option><option id="captions-font-size-vjs_video_3_component_479-175" value="1.75" aria-labelledby="captions-font-size-vjs_video_3_component_479 captions-font-size-vjs_video_3_component_479-175">175%</option><option id="captions-font-size-vjs_video_3_component_479-200" value="2.00" aria-labelledby="captions-font-size-vjs_video_3_component_479 captions-font-size-vjs_video_3_component_479-200">200%</option><option id="captions-font-size-vjs_video_3_component_479-300" value="3.00" aria-labelledby="captions-font-size-vjs_video_3_component_479 captions-font-size-vjs_video_3_component_479-300">300%</option><option id="captions-font-size-vjs_video_3_component_479-400" value="4.00" aria-labelledby="captions-font-size-vjs_video_3_component_479 captions-font-size-vjs_video_3_component_479-400">400%</option></select></fieldset><fieldset class="vjs-edge-style vjs-track-setting"><legend id="vjs_video_3_component_479" class="">Text Edge Style</legend><select aria-labelledby="vjs_video_3_component_479"><option id="vjs_video_3_component_479-None" value="none" aria-labelledby="vjs_video_3_component_479 vjs_video_3_component_479-None">None</option><option id="vjs_video_3_component_479-Raised" value="raised" aria-labelledby="vjs_video_3_component_479 vjs_video_3_component_479-Raised">Raised</option><option id="vjs_video_3_component_479-Depressed" value="depressed" aria-labelledby="vjs_video_3_component_479 vjs_video_3_component_479-Depressed">Depressed</option><option id="vjs_video_3_component_479-Uniform" value="uniform" aria-labelledby="vjs_video_3_component_479 vjs_video_3_component_479-Uniform">Uniform</option><option id="vjs_video_3_component_479-Dropshadow" value="dropshadow" aria-labelledby="vjs_video_3_component_479 vjs_video_3_component_479-Dropshadow">Dropshadow</option></select></fieldset><fieldset class="vjs-font-family vjs-track-setting"><legend id="captions-font-family-vjs_video_3_component_479" class="">Font Family</legend><select aria-labelledby="captions-font-family-vjs_video_3_component_479"><option id="captions-font-family-vjs_video_3_component_479-ProportionalSansSerif" value="proportionalSansSerif" aria-labelledby="captions-font-family-vjs_video_3_component_479 captions-font-family-vjs_video_3_component_479-ProportionalSansSerif">Proportional Sans-Serif</option><option id="captions-font-family-vjs_video_3_component_479-MonospaceSansSerif" value="monospaceSansSerif" aria-labelledby="captions-font-family-vjs_video_3_component_479 captions-font-family-vjs_video_3_component_479-MonospaceSansSerif">Monospace Sans-Serif</option><option id="captions-font-family-vjs_video_3_component_479-ProportionalSerif" value="proportionalSerif" aria-labelledby="captions-font-family-vjs_video_3_component_479 captions-font-family-vjs_video_3_component_479-ProportionalSerif">Proportional Serif</option><option id="captions-font-family-vjs_video_3_component_479-MonospaceSerif" value="monospaceSerif" aria-labelledby="captions-font-family-vjs_video_3_component_479 captions-font-family-vjs_video_3_component_479-MonospaceSerif">Monospace Serif</option><option id="captions-font-family-vjs_video_3_component_479-Casual" value="casual" aria-labelledby="captions-font-family-vjs_video_3_component_479 captions-font-family-vjs_video_3_component_479-Casual">Casual</option><option id="captions-font-family-vjs_video_3_component_479-Script" value="script" aria-labelledby="captions-font-family-vjs_video_3_component_479 captions-font-family-vjs_video_3_component_479-Script">Script</option><option id="captions-font-family-vjs_video_3_component_479-SmallCaps" value="small-caps" aria-labelledby="captions-font-family-vjs_video_3_component_479 captions-font-family-vjs_video_3_component_479-SmallCaps">Small Caps</option></select></fieldset></div><div class="vjs-track-settings-controls"><button type="button" class="vjs-default-button" title="restore all settings to the default values">Reset<span class="vjs-control-text"> restore all settings to the default values</span></button><button type="button" class="vjs-done-button">Done</button></div></div><button class="vjs-close-button vjs-control vjs-button" type="button" aria-disabled="false" title="Close Modal Dialog"><span class="vjs-icon-placeholder" aria-hidden="true"></span><span class="vjs-control-text" aria-live="polite">Close Modal Dialog</span></button><p class="vjs-control-text">End of dialog window.</p></div></div><p></p><h1 id="technical-details">Technical Details</h1><blockquote><p>Initially, I tried to use ARKit 4's ARMeshAnchor as a mesh would be the most straightforward solution for model creation. The lidar equipped iPad can indeed generate great results:</p></blockquote><p><img src="/works/humanscan/mesh.jpg" alt=""></p><blockquote><p>However, this is later proven to be insufficient:</p><ul><li>The mesh is generated without UV</li><li>The mesh comes with no color or texture</li><li>The mesh is constantly changing and there is no callback</li></ul><p>I was still in hope that this might work if the color / texture issue can be resolved. The <a href="https://developer.apple.com/documentation/modelio/mdlmesh/1644690-addunwrappedtexturecoordinates">add Unwrapped Texture Coordinates (forAttributeNamed:) </a>method in Model I/O seemed promising, but it lacks proper documentation and will crash the app if called.</p><p>Therefore, I wrote a primitive UV generator to give each triangle a small square in a UV grid. Then, I will make a copy of the generated ARMesh, then project the camera feed onto the scene using hit-test. This approach is also flawed, that:</p><ul><li>The UV generation algorithm does not take the size or position relationship into account, giving bad results that colors are mixed up in nearby UV grids.</li><li>The camera-space to model-space hit-test is done in CPU via SceneKit's <a href="https://developer.apple.com/documentation/scenekit/scnhittestresult/1522771-texturecoordinates">SCNHitTestResult</a>, and therefore it can only execute 50-100 times per frame.</li><li>Added by the offset of pixel color caused by the delay of camera feed in motion and noises in the camera image (keep in mind that sampling is done on a per-pixel basis, so any noise can be disastrous), the output is extremely unstable.</li></ul><p>I can show you what is like to go down this road (<strong>Trypophobia Alert</strong>):</p></blockquote><p><img src="/works/humanscan/uv.jpg" alt=""></p><blockquote><p>Yeah, that's my bed and pillow, and I can barely recognize them. This is certainly not gonna win me a WWDC scholarship. So I had to find a way to preserve scanned results with color info. Point clouds, although not that smooth when compared to mesh, is actually a good fit for this job, not to mention that Apple has extensive documentation and samples on how to extract point clouds from depth maps. So the result is this:</p></blockquote><p><img src="/works/humanscan/point.jpg" alt=""></p><blockquote><p>This is a point-cloud scan done in the CMU INI building, with ARKit 4's skeleton tracking working at the same time. The first thing to do is to remove the background points. I don't have the machine learning magic to automatically remove the background, so I took a rather brutal force way -- SDF.</p><p>As we already have bone information, the human body can be roughly expressed as several primitive 3D shapes combined (head as a sphere, legs as cylinders). Signed distance field can help us convert these cylinders into an equation, so that for a world-space <code>SCNVector3</code>, it is within the human body if the result of SDF is &lt; 0, and outside if &gt; 0.</p><p>With background removed, we can focus on the <code>SCNSkinner</code> and rigging. This is a tricky part, not because the lacking of demo and documentation on <code>SCNSkinner</code> (although they are, indeed, useless), but because of a bug in SceneKit, that when you generate a SCNSkinner at runtime and re-assign it to another SCNNode, the skinner will collapse -- until you serialize the scene and restore it, then it works as expected. It is tricky because you are not gonna seeing it in Xcode and exported scenes, this bug only happens at runtime, which nearly made me abandon the whole project. For a workaround I suggest checking out this <a href="https://github.com/magicien/GLTFSceneKit/commit/3c80fb707e8729df4ddb7cdf0dd5f7d0119d3d47">GLTFSceneKit</a>.</p></blockquote><p><img src="/works/humanscan/rig.jpg" alt=""></p><blockquote><p>The rest involves applying a new skeleton position to the existing one so skinner can make point clouds follow the new pose. There is not much to say about this part, you can refer to the <a href="https://github.com/JustinFincher/WWDC2021ScholarshipProject/tree/master/Submission">submission</a> for more details.</p></blockquote></div><div data-v-82f21d64="" data-v-522dfd62="" class="content fin-work-date"><blockquote data-v-82f21d64="" data-v-522dfd62=""><p data-v-82f21d64="" data-v-522dfd62="">Last updated at May 8, 2021 9:00 AM<br data-v-82f21d64="" data-v-522dfd62="">Originally created at Apr 1, 2021 9:00 AM</p></blockquote></div></div><div data-v-82f21d64="" data-v-522dfd62="" class="container fin-work-bottom"><nav data-v-82f21d64="" data-v-522dfd62="" class="level"><div data-v-82f21d64="" data-v-522dfd62="" class="level-left"><div data-v-82f21d64="" data-v-522dfd62="" class="level-item has-text-centered"><a data-v-82f21d64="" href="/hourglass" class="" data-v-522dfd62=""><p data-v-82f21d64="" class="heading">Hourglass</p><p data-v-82f21d64="" class="subtitle">Previous</p></a></div></div><div data-v-82f21d64="" data-v-522dfd62="" class="level-right"><div data-v-82f21d64="" data-v-522dfd62="" class="level-item has-text-centered"><a data-v-82f21d64="" href="/mapaper" class="" data-v-522dfd62=""><p data-v-82f21d64="" class="heading">Mapaper</p><p data-v-82f21d64="" class="subtitle">Next</p></a></div></div></nav></div></section><footer data-v-a865310a="" data-v-82f21d64="" class="footer" data-v-522dfd62=""><div data-v-a865310a="" class="container"><p data-v-a865310a="">By <a data-v-a865310a="" href="https://fincher.im">郑昊天 ZHENG HAOTIAN</a> (a.k.a JustinFincher / JustZht), 2016-2022<br data-v-a865310a="">Made with <a data-v-a865310a="" href="https://cn.vuejs.org/index.html">Vue.js</a>.</p></div></footer></div></div><!----></div><script src="/js/chunk-vendors~253ae210.1b7faa44.js"></script><script src="/js/chunk-vendors~2ebc07f6.2a812cea.js"></script><script src="/js/app~d0ae3f07.908ee241.js"></script></body></html>